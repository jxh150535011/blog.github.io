(self.webpackChunk=self.webpackChunk||[]).push([[664],{6698:function(C,m,l){"use strict";l.r(m),l.d(m,{default:function(){return R}});var w=l(7294),f=l(2777),j={page:"page___eP_8T"},b=l(5893),O=function(c){for(var t=c.width||0,v=c.height||0,i=c.getContext("2d"),g=50,o=0;o<=t;o+=g)i.moveTo(o+.5,0),i.lineTo(o+.5,v);for(var e=0;e<=v;e+=g)i.moveTo(0,e+.5),i.lineTo(t,e+.5);i.strokeStyle="black",i.stroke()},D=function(c){f.fabric.Object.prototype.transparentCorners=!1;var t=new f.fabric.Canvas(c,{allowTouchScrolling:!0,selection:!1}),v=new f.fabric.Rect({top:100,left:0,width:80,height:50,fill:"red",selectable:!1}),i=new f.fabric.Rect({top:0,left:100,width:50,height:70,fill:"blue",selectable:!1}),g=new f.fabric.Rect({top:100,left:100,width:60,height:60,fill:"green",selectable:!1});t.add(v,i,g);var o=function(r){var a=r.e;if(!a)return null;var u=a.touches?a.touches[0]:a;return u?[u.clientX,u.clientY]:null},e={target:null,mousePos:null,viewPos:null,isDraging:!1},k=function(r){if(e.isDraging)return e.isDraging;if(!e.mousePos)return!1;var a=e.mousePos;return Math.abs(r[0]-a[0])<1&&Math.abs(r[1]-a[1])<1?!1:(e.isDraging=!0,!0)};t.on("mouse:down",function(n){var r=t.viewportTransform;e.target?e.viewPos=[e.target.left,e.target.top]:e.viewPos=[r[4],r[5]],e.mousePos=o(n)});var P=function(r,a){if(e.target&&t.setActiveObject(e.target),!(!e.mousePos||!a)){var u=e.mousePos;k(a);var p=a[0]-u[0],T=a[1]-u[1],h=e.viewPos;if(e.target){if(r)return;e.target.left=p+h[0],e.target.top=T+h[1];return}var d=t.viewportTransform;d[4]=p+h[0],d[5]=T+h[1],t.setViewportTransform(d)}};t.on("mouse:move",function(n){var r=o(n);P(n.target,r),t.requestRenderAll()}),t.on("mouse:up",function(n){var r=o(n);P(n.target,r),e.isDraging||(e.target=n.target),e.target?t.setActiveObject(e.target):t._activeObject=null,e.isDraging=!1,e.mousePos=null,t.requestRenderAll()})};function R(){var s=(0,w.useRef)();return(0,w.useEffect)(function(){if(s.current)return D(s.current)},[s.current]),(0,b.jsx)("div",{className:j.page,children:(0,b.jsx)("canvas",{ref:s,width:"600",height:"600"})})}},4960:function(){},6759:function(){},6272:function(){}}]);
